{% extends "layouts/base.html" %}

{% block title %} Case Analyze {% endblock %}

{% block content %}
<div class="pcoded-main-container">
    <div class="pcoded-content">
        <div class="page-header">
            <div class="page-block">
                <div class="row align-items-center">
                    <div class="col-md-12">
                        <div class="page-header-title">
                            <h5 class="m-b-10">시간 필터링 결과</h5>
                        </div>
                        <ul class="breadcrumb">
                            <li class="breadcrumb-item"><a href="/"><i class="feather icon-home"></i></a></li>
                            <li class="breadcrumb-item"><a href="#">Case</a></li>
                            <li class="breadcrumb-item"><a href="#">Analyze</a></li>
                            <li class="breadcrumb-item"><a href="#">Filtering</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- [ Main Content ] start -->
        <div class="row">
            <div class="col">
                <div class="card">
                    <div class="card-header">
                        <h5>Your Filtering Results</h5>
                    </div>
                    <div class="card-body">
                        <!-- Row to split content into two equal columns -->
                        <div class="row">
                            <style type="text/css">
                                #mynetwork {
                                    width: 100%;
                                    height: 550px;
                                    background-color: #ffffff;
                                    border: 1px solid lightgray;
                                    position: relative;
                                    float: left;
                                }
                           </style>
                            <!-- Left column for the graph (50%) -->
                            <div class="col">
                                <div id="graph-container">
                                    {{ body_html | safe }}
                                </div>
                            </div>

                            <!-- Right column for the table (50%) -->
                            <div class="col-md-6">
                                <div id="table-container">
                                    <style>
                                        table {
                                            width: 100%; /* 테이블 전체 너비 */
                                            table-layout: auto; /* 테이블 셀 너비 자동 조정 */
                                            border-collapse: collapse; /* 테이블 경계선 중첩 */
                                        }
                                        td, th {
                                            word-wrap: break-word; /* 긴 단어 줄바꿈 */
                                            word-break: break-all; /* 긴 단어 강제 줄바꿈 */
                                            white-space: normal; /* 줄바꿈 허용 */
                                            overflow: hidden; /* 넘치는 텍스트 숨김 */
                                            text-overflow: ellipsis; /* 말줄임표로 넘침 표시 */
                                            max-width: 200px; /* 최대 너비 설정 */
                                            padding: 10px; /* 셀 내 여백 */
                                            border: 1px solid #ddd; /* 테이블 셀 경계선 */
                                            position: relative; /* 툴팁을 위해 위치 설정 */
                                        }
                                    </style>
                                    {% for table in tables %}
                                        <h5>{{ table.title }}</h5>
                                        {{ table.content | safe }}
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- [ Main Content ] end -->
    </div>
</div>

{% endblock content %}

{% block javascripts %}
{{ scripts_html | safe }}
{% endblock javascripts %}
